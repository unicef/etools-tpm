<!--import [polymer]-->
<!--import [perfect-scrollbar]-->

<script>
window.TPMBehaviors = window.TPMBehaviors || {};
TPMBehaviors.PerfectScrollbarBehavior = {
    listeners: {
        'paper-dropdown-open': '_dropdownOpened',
        'paper-dropdown-close': '_dropdownClosed'
    },

    ready: function () {
        let scrollbarContainer = this.$.scrollbarContainer;
        if (!scrollbarContainer) { return; }
        let options = {
            handlers: ['click-rail', 'drag-scrollbar', 'wheel', 'touch']
        };
        Ps.initialize(scrollbarContainer, options);
    },

    _dropdownOpened: function (e, detail) {
        if (e && e.target) {
            e.target.dropdownOpened = true;
        }
    },

    _dropdownClosed: function (e, detail) {
        if (e && e.target) {
            e.target.dropdownOpened = false;
        }
    },
};
</script>
